!function(){"use strict";var e={601:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Constants=void 0,t.Constants={baseAmplitude:.1}},240:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(666)),s=r(n(113)),i=n(132),a=r(n(821));t.default=class{constructor(){const e=new s.default,t=new o.default(e),n=new a.default(e,t);new i.View(n)}}},607:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),new(r(n(240)).default)},968:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.range=void 0,t.range=e=>Array.from({length:e},((e,t)=>t))},950:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.degree2radian=t.radian2degree=void 0,t.radian2degree=e=>180*e/Math.PI,t.degree2radian=e=>e*Math.PI/180},786:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{x=123456789;y=362436069;z=521288629;seed;constructor(e){this.seed=e}generate=()=>{const e=this.x^this.x<<11;return this.x=this.y,this.y=this.z,this.z=this.seed,this.seed=this.seed^this.seed>>>19^e^e>>>8,this.seed/2**32}}},491:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(75),s=r(n(833));t.default=class{shaper;config;identity;constructor(e,t){this.shaper=e,this.config=t}reset(){const{shaper:e,config:t}=this;this.identity={basePoints:e.configureBasePoints(t),orders:e.configureOrders(t.complexity),config:t,colorGenerator:new s.default(t.color),timestamp:0}}simulate(){const{identity:e}=this;if(!e)throw new Error("shape not reset");const{config:t,orders:n,timestamp:r}=e,{rotation:s,scale:i,center:a}=t;e.config.kind===o.ChartType.RANDOM&&this.reset();const l=s.angle+s.speed*r,c=Math.sin(l),u=Math.cos(l),d=e.basePoints.map((e=>{const t=e.x*i.w,n=e.y*i.h;return{x:a.x+t*u-n*c,y:a.y+t*c+n*u}})),p=d.map((()=>e.colorGenerator.next()));return e.colorGenerator.endIteration(),e.timestamp+=1,{points:d,style:t.style,colors:p,orders:n}}}},263:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(950),s=r(n(786)),i=n(601);class a{static pointCounts(e){return 2**(Math.max(Math.min(e,10),2)+1)}configureBasePoints(e){const t=new s.default(e.randomizer?.size?.seed||-1),n=new s.default(e.randomizer?.angle?.seed||-1),{baseAmplitude:r}=i.Constants,a=[{x:0,y:-r,index:0},{x:0,y:0,index:1}],l=this.divideBasePoints(e,a[0],a[1],1,.85,(0,o.degree2radian)(45),t,n);return[a[0],a[1],...l]}divideBasePoints(e,t,n,r,o,s,i,l){const{complexity:c,randomizer:u,mutation:d}=e,p=(u?.size?.amplify||0)*i.generate(),h=(u?.angle?.amplify||0)*l.generate(),f=o*(p+(d?.size||1)),y=s*(h+(d?.angle||1));if(r>=Math.floor(a.pointCounts(c)/2))return[];const g=n.x-t.x,_=n.y-t.y,m=Math.sin(y),C=Math.cos(y),x=2*r,T=2*r+1,v={x:n.x+f*(C*g-m*_),y:n.y+f*(m*g+C*_),index:x},O={x:n.x+f*(C*g+m*_),y:n.y+f*(-m*g+C*_),index:T},w=[];return w.push(...this.divideBasePoints(e,n,v,x,f,y,i,l)),w.push(...this.divideBasePoints(e,n,O,T,f,y,i,l)),[v,O,...w.sort(((e,t)=>e.index-t.index))]}configureOrders(e){const t=a.pointCounts(e)/2;return[{link:[0,1]},...this.setOrdersRecursive(t,1).sort(((e,t)=>e.link[1]-t.link[1]))]}setOrdersRecursive(e,t){if(t>=e)return[];const n=2*t,r=2*t+1;return[{link:[t,n]},{link:[t,r]},...this.setOrdersRecursive(e,n),...this.setOrdersRecursive(e,r)]}}t.default=a},81:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(311)),s=n(300),i=r(n(920)),a=n(365);class l{static pointCounts(e){return e}configureBasePoints(e){const t=l.pointCounts(e.complexity);return(new i.default).generate({type:a.PointsType.CIRCLE,length:t})}configureOrders(e){const t=l.pointCounts(e);return(new o.default).generate({type:s.OrderType.LOOP,pointCount:t})}}t.default=l},207:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(968),s=r(n(311)),i=n(300),a=n(601);class l{static pointCounts(e){return 40*e}configureBasePoints(e){const t=l.pointCounts(e.complexity),{baseAmplitude:n}=a.Constants;return(0,o.range)(t).map((r=>{const o=2*Math.PI*r/t,s=n*Math.sin(e.complexity*o);return{x:s*Math.cos(o-Math.PI),y:s*Math.sin(o-Math.PI)}}))}configureOrders(e){const t=l.pointCounts(e);return(new s.default).generate({type:i.OrderType.LOOP,pointCount:t})}}t.default=l},354:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(75),s=r(n(311)),i=n(300),a=r(n(508));class l{engine;constructor(){this.engine=new a.default}static selectFoldRules(e){const t={length:Math.SQRT1_2,radian:45*Math.PI/180},n={length:Math.SQRT1_2,radian:-45*Math.PI/180};switch(e){case o.ChartType.FOLD_CCURVE:return[{folds:[n]}];case o.ChartType.FOLD_DRAGON:return[{folds:[t]},{folds:[n]}];default:throw new Error("Unsupported curve type!")}}configureBasePoints(e){const t=l.selectFoldRules(e.kind);return this.engine.createPoints(e,t)}configureOrders(e){const t=2**(e-1)+1;return(new s.default).generate({type:i.OrderType.LINEAR,pointCount:t})}}t.default=l},508:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(786));t.default=class{recursive(e,t,n,r,o,s,i,a){const{randomizer:l,mutation:c,complexity:u}=e,d=s[t%s.length],p=o.x-r.x,h=o.y-r.y,f=[];if(d.folds.forEach(((e,t)=>{const n=0===t||e.fromStart?r:e.fromEnd?o:f[t-1],s=e.fromEnd?-1:1,{length:u,radian:d}=e,y=(l?.size?.amplify??0)*i.generate(),g=(l?.angle?.amplify??0)*a.generate(),_=s*u*(y+(c?.size??1)),m=d*(g+(c?.angle??1)),C=Math.sin(m),x=Math.cos(m);f.push({x:n.x+_*(x*p-C*h),y:n.y+_*(C*p+x*h)})})),n===u)return 0===t?[r,...f,o]:(d.folds.length,[...f,o]);const y=[r,...f,o];return[...Array.from({length:y.length-1},((e,t)=>t)).map((e=>[y[e],y[e+1]])).map(((r,o)=>{const l=(d.folds.length+1)*t+o;return[...this.recursive(e,l,n+1,r[0],r[1],s,i,a)]})).reduce(((e,t)=>e.concat(t)))]}createPoints(e,t){const n=new o.default(e.randomizer?.size?.seed||-1),r=new o.default(e.randomizer?.angle?.seed||-1);return this.recursive(e,0,2,{x:-.1,y:0},{x:.1,y:0},t,n,r)}}},531:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(311)),s=n(300),i=r(n(508));class a{engine;constructor(){this.engine=new i.default}static getFoldRule(){return[{folds:[{length:1/3,radian:0},{length:1/3,radian:60*Math.PI/180},{length:1/3,radian:-60*Math.PI/180}]}]}configureBasePoints(e){const t=a.getFoldRule();return this.engine.createPoints(e,t)}configureOrders(e){const t=2**(2*(e-1))+1;return(new o.default).generate({type:s.OrderType.LINEAR,pointCount:t})}}t.default=a},7:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(75),s=r(n(311)),i=n(300),a=r(n(531)),l=n(950);t.default=class{kochCurve;constructor(){this.kochCurve=new a.default}configureBasePoints(e){const t=e.kind===o.ChartType.KOCH_TRIANGLE_INNER;let n=this.kochCurve.configureBasePoints(e);const r=Math.sin((0,l.degree2radian)(120)),s=Math.cos((0,l.degree2radian)(120));t&&(n=n.map((e=>({...e,y:-e.y})))),n=n.map((e=>({...e,y:e.y+.1/Math.sqrt(3)})));const i=n.map((e=>({x:e.x*s-e.y*r,y:e.x*r+e.y*s}))),a=i.map((e=>({x:e.x*s-e.y*r,y:e.x*r+e.y*s})));return[...n,...a,...i]}configureOrders(e){const t=3*(2**(2*(e-1))+1);return(new s.default).generate({type:i.OrderType.LINEAR,pointCount:t})}}},991:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(75),s=r(n(311)),i=n(300),a=r(n(508));class l{engine;constructor(){this.engine=new a.default}static selectFoldRules(e){const t=[{folds:[{length:.5,radian:90*Math.PI/180},{length:.5,radian:0,fromStart:!0},{length:.5,radian:90*Math.PI/180,fromEnd:!0}]}],n=[{folds:[{length:.5,radian:90*Math.PI/180},{length:.5,radian:0,fromStart:!0},{length:.5,radian:-90*Math.PI/180,fromEnd:!0}]}];return e===o.ChartType.TRI_CIS?n:t}configureBasePoints(e){const t=l.selectFoldRules(e.kind);return this.engine.createPoints(e,t)}configureOrders(e){const t=2**(2*(e-1))+1;return(new s.default).generate({type:i.OrderType.LINEAR,pointCount:t})}}t.default=l},183:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(920)),s=n(365),i=r(n(311)),a=n(300);class l{static pointCounts(e){return e}configureBasePoints(e){const t=l.pointCounts(e.complexity);return(new o.default).generate({type:s.PointsType.RANDOM,length:t})}configureOrders(e){const t=l.pointCounts(e);return(new i.default).generate({type:a.OrderType.LOOP,pointCount:t})}}t.default=l},306:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(311)),s=n(300),i=r(n(920)),a=n(365);class l{static pointCounts(e){return e}configureBasePoints(e){const t=l.pointCounts(e.complexity);return(new i.default).generate({type:a.PointsType.CIRCLE,length:t})}configureOrders(e){const t=l.pointCounts(e);return(new o.default).generate({type:s.OrderType.START_END_2X_FASTER,pointCount:t})}}t.default=l},830:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(311)),s=n(300),i=n(968),a=n(601);class l{static pointCounts(e){return 2*e}configureBasePoints(e){const t=l.pointCounts(e.complexity),{baseAmplitude:n}=a.Constants;return(0,i.range)(t).map((e=>{const r=2*Math.PI*e/t-Math.PI,o=e%2==0?n:n/4;return{x:o*Math.cos(r),y:o*Math.sin(r)}}))}configureOrders(e){return(new o.default).generate({type:s.OrderType.LOOP,pointCount:l.pointCounts(e)})}}t.default=l},923:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(920)),s=n(365),i=r(n(311)),a=n(300);class l{static pointCounts(e){return e}configureBasePoints(e){return(new o.default).generate({type:s.PointsType.CIRCLE,length:l.pointCounts(e.complexity)})}configureOrders(e){return(new i.default).generate({type:a.OrderType.END_2X_FASTER,pointCount:l.pointCounts(e)})}}t.default=l},75:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.ChartType=t.StyleType=void 0,t.StyleType={LINE:"line",TRIANGLE:"triangle",CIRCLES:"circles",CURVE:"curve"},t.ChartType={CIRCLE:"start",STAR:"star",CLOVER:"clover",SUNRISE:"sunrise",RANDOM:"random",STARMINE:"starmine",KOCH_CURVE:"koch_curve",KOCH_TRIANGLE_INNER:"koch_triangle_inner",KOCH_TRIANGLE_OUTER:"koch_triangle_outer",FOLD_DRAGON:"fold_dragon",FOLD_CCURVE:"fold_ccurve",TRI_CIS:"tri_cis",TRI_TRANS:"tri_trans",BINARY_TREE:"binary_tree"}},311:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});const r=n(300),o=n(968);t.default=class{generate(e){const{type:t,pointCount:n}=e;switch(t){case r.OrderType.LINEAR:return(0,o.range)(n-1).map((e=>({link:[e,(e+1)%n]})));case r.OrderType.LOOP:return(0,o.range)(n).map((e=>({link:[e,(e+1)%n]})));case r.OrderType.START_END_2X_FASTER:return(0,o.range)(n).map((e=>({link:[2*e%n,2*(e+1)%n]})));case r.OrderType.END_2X_FASTER:return(0,o.range)(n).map((e=>({link:[e,2*(e+1)%n]})));default:return[]}}}},300:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.OrderType=void 0,t.OrderType={LOOP:"loop",START_END_2X_FASTER:"start_end_2x_faster",END_2X_FASTER:"end_2x_faster",LINEAR:"linear"}},920:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});const r=n(365),o=n(968),s=n(601);t.default=class{generate(e){const{type:t,length:n}=e,{baseAmplitude:i}=s.Constants;switch(t){case r.PointsType.CIRCLE:return(0,o.range)(n).map((e=>2*Math.PI*e/n)).map((e=>({x:i*Math.sin(e),y:i*Math.cos(e)})));case r.PointsType.RANDOM:return(0,o.range)(n).map((()=>({x:i*(Math.random()-.5),y:i*(Math.random()-.5)})));default:return[]}}}},365:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.PointsType=void 0,t.PointsType={CIRCLE:"circle",RANDOM:"random"}},833:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});const r=n(759);class o{config;colorStartIndex;colorIterateIndex;colorTable=[];alphaHex;gradientRainbows=[{position:0,red:255,green:0,blue:0},{position:43,red:255,green:255,blue:0},{position:85,red:0,green:255,blue:0},{position:128,red:0,green:255,blue:255},{position:171,red:0,green:0,blue:255},{position:223,red:255,green:0,blue:255},{position:255,red:255,green:0,blue:0}];gradientWarm=[{position:0,red:255,green:0,blue:0},{position:128,red:255,green:255,blue:0},{position:255,red:255,green:0,blue:0}];gradientForest=[{position:0,red:255,green:255,blue:0},{position:128,red:0,green:255,blue:0},{position:255,red:255,green:255,blue:0}];gradientCool=[{position:0,red:0,green:0,blue:255},{position:128,red:0,green:255,blue:255},{position:255,red:0,green:0,blue:255}];gradientHeat=[{position:0,red:255,green:255,blue:0},{position:43,red:255,green:0,blue:0},{position:85,red:0,green:0,blue:255},{position:128,red:0,green:0,blue:0},{position:171,red:0,green:0,blue:255},{position:223,red:255,green:0,blue:0},{position:255,red:255,green:255,blue:0}];gradientMonochrome=[{position:0,red:0,green:0,blue:0},{position:128,red:255,green:255,blue:255},{position:255,red:0,green:0,blue:0}];gradientPastel=[{position:0,red:255,green:154,blue:154},{position:85,red:255,green:255,blue:154},{position:170,red:154,green:255,blue:255},{position:255,red:255,green:154,blue:154}];static colorToHex=e=>{const t=Math.round(e).toString(16);return 1===t.length?`0${t}`:t};constructor(e){this.config=e,this.colorStartIndex=0,this.colorIterateIndex=0,this.alphaHex=o.colorToHex(Math.floor(255*this.config.alpha));const t=(()=>{switch(e.type.toString()){case r.ColorType.RAINBOW:return this.gradientRainbows;case r.ColorType.WARM:return this.gradientWarm;case r.ColorType.FOREST:return this.gradientForest;case r.ColorType.COOL:return this.gradientCool;case r.ColorType.HEAT:return this.gradientHeat;case r.ColorType.MONOCHROME:return this.gradientMonochrome;case r.ColorType.PASTEL:return this.gradientPastel;default:throw Error("Not Implemented")}})();let n=1,s=t[0],i=t[1];for(let e=0;e<256;e+=1){const r=(e-s.position)/(i.position-s.position),a=s.red+r*(i.red-s.red),l=s.green+r*(i.green-s.green),c=s.blue+r*(i.blue-s.blue);this.colorTable.push(`#${o.colorToHex(a)}${o.colorToHex(l)}${o.colorToHex(c)}${this.alphaHex}`),i.position===e&&(s=i,n+=1,i=t[n])}}next(){const e=this.colorTable[this.colorIterateIndex];return this.colorIterateIndex=(this.colorIterateIndex+this.config.speed)%256,e}endIteration(){this.colorStartIndex=(this.colorStartIndex+this.config.speed)%256,this.colorIterateIndex=this.colorStartIndex}}t.default=o},759:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.ColorType=void 0,t.ColorType={RAINBOW:"rainbow",WARM:"warm",FOREST:"forest",COOL:"cool",HEAT:"heat",MONOCHROME:"monochrome",PASTEL:"pastel"}},666:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(98));t.default=class{visualizer;simulators;scrollEndCount;touchScrollPrevY;scrollY;constructor(e){this.visualizer=e,this.simulators=(new o.default).load(),this.scrollEndCount=0,this.scrollY=(()=>{const e=new URL(document.location.href).searchParams;return parseInt(e.get("depth")||"0",10)})()}start=e=>{setInterval((()=>{const e=this.simulate();this.visualizer.draw(e)}),1e3/e)};handleScroll=e=>{this.scrollY+=e,this.scrollY<0&&(this.scrollY=0),this.scrollEndCount=6};handleTouchScroll=e=>{this.touchScrollPrevY&&(this.scrollY-=2*(e-this.touchScrollPrevY)),this.touchScrollPrevY=e,this.scrollY<0&&(this.scrollY=0),this.scrollEndCount=6};simulate=()=>{if(this.scrollEndCount-=1,0===this.scrollEndCount){this.touchScrollPrevY=void 0;const e=`${window.location.pathname}?depth=${this.scrollY}`;window.history.replaceState(null,"Fractal-Visualizer depth: + scrollY",e)}return this.simulators.map((e=>e.simulate())).map((e=>({...e,points:e.points.map((e=>({...e,y:e.y-this.scrollY/300})))})))}}},98:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(440)),s=n(950),i=r(n(491)),a=r(n(263)),l=r(n(81)),c=r(n(207)),u=r(n(354)),d=r(n(183)),p=r(n(306)),h=r(n(830)),f=r(n(923)),y=n(75),g=r(n(531)),_=r(n(991)),m=r(n(7));class C{static instantiateChart=e=>{switch(e){case y.ChartType.STAR:return new p.default;case y.ChartType.STARMINE:return new h.default;case y.ChartType.SUNRISE:return new f.default;case y.ChartType.CIRCLE:return new l.default;case y.ChartType.CLOVER:return new c.default;case y.ChartType.RANDOM:return new d.default;case y.ChartType.FOLD_CCURVE:case y.ChartType.FOLD_DRAGON:return new u.default;case y.ChartType.KOCH_CURVE:return new g.default;case y.ChartType.KOCH_TRIANGLE_INNER:case y.ChartType.KOCH_TRIANGLE_OUTER:return new m.default;case y.ChartType.TRI_CIS:case y.ChartType.TRI_TRANS:return new _.default;case y.ChartType.BINARY_TREE:return new a.default;default:throw new Error("Unsupported chart type!")}};load=()=>{const e=o.default.charts.map((e=>{const t={...e,kind:e.kind,style:{...e.style,type:e.style.type},color:{...e.color,type:e.color.type},rotation:{angle:(0,s.degree2radian)(e.rotation.angle),speed:(0,s.degree2radian)(e.rotation.speed)},complexity:e.complexity};return{chart:C.instantiateChart(t.kind),config:t}})).map((e=>new i.default(e.chart,e.config)));return e.map((e=>e.reset())),e}}t.default=C},132:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.View=t.HtmlDefines=void 0,t.HtmlDefines={UPLOADED_ID_GIF:"gif_uploaded",UPLOADED_ID_MAP:"dat_uploaded",INPUT_ID_GIF:"gif_file",INPUT_ID_MAP:"dat_file",GIF_SRC_PREVIEW:"gif_src_preview",IS_LOADING:"is_loading",ERROR_MESSAGE:"error_message",CANVAS_GIF_MAP_PREVIEW:"gif_map_preview",GIF_MAP_DOWNLOAD:"gif_map_download",GIF_MAP_DOWNLOAD_BUTTON:"git_map_download_button"},t.View=class{adjustCanvas=e=>{const t=window.devicePixelRatio;e.width=window.innerWidth*t*2,e.height=window.innerHeight*t*2};constructor(e){const t=document.getElementById("canvas");if(t instanceof HTMLCanvasElement){if("ontouchstart"in window){const n=e=>{e.preventDefault()},r=t=>{t.preventDefault(),e.onTouchScroll(t.touches[0].pageY)};t.addEventListener("touchstart",n,{passive:!1}),t.addEventListener("touchend",n,{passive:!1}),t.addEventListener("touchcancel",n,{passive:!1}),t.addEventListener("touchmove",r,{passive:!1})}else t.onwheel=t=>{e.onScroll(t.deltaY)};window.onresize=()=>{this.adjustCanvas(t)};const n=t.getContext("2d");n instanceof CanvasRenderingContext2D&&(this.adjustCanvas(t),e.onCanvasReady(n))}}}},821:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{visualizer;simulator;constructor(e,t){this.visualizer=e,this.simulator=t}onCanvasReady=e=>{this.visualizer.setContext(e),this.simulator.start(50)};onScroll=e=>{this.simulator.handleScroll(e)};onTouchScroll=e=>{this.simulator.handleTouchScroll(e)}}},113:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});const r=n(75);class o{nullableContext=null;setContext=e=>{this.nullableContext=e;const t=e.canvas.width,n=e.canvas.height;e.fillStyle="rgb(0, 0, 0)",e.fillRect(0,0,t,n)};draw=e=>{const t=this.nullableContext;if(null!==t){const n=t.canvas.width,r=t.canvas.height;t.fillStyle="rgba(0, 0, 0, 0.05)",t.fillRect(0,0,n,r),e.forEach((e=>{o.shouldDrawChart(e)&&o.drawChart(t,e,n,r)}))}};static drawLine=(e,t,n,r,o)=>{e.lineWidth=r,e.strokeStyle=o,e.beginPath(),e.moveTo(t.x,t.y),e.lineTo(n.x,n.y),e.closePath(),e.stroke()};static drawTriangle=(e,t,n,r,o)=>{const s=n.x-t.x,i=n.y-t.y,a=Math.sqrt(s*s+i*i),l=s/a,c=i/a;e.fillStyle=o,e.beginPath(),e.moveTo(n.x,n.y),e.lineTo(t.x+c*r,t.y-l*r),e.lineTo(t.x-c*r,t.y+l*r),e.lineTo(n.x,n.y),e.closePath(),e.fill()};static drawCircles=(e,t,n,r,o)=>{const s=Math.log(r||11),i=n.x-t.x,a=n.y-t.y,l=s*Math.sqrt(i*i+a*a),c=2*Math.PI;e.fillStyle=o,e.beginPath(),e.arc(t.x+.3*i,t.y+.3*a,.3*l,0,c),e.fill(),e.beginPath(),e.arc(t.x+.6*i,t.y+.6*a,.15*l,0,c),e.fill()};static drawCurve=(e,t,n,r,o)=>{const s=1.5*(r||1),i=n.x-t.x,a=n.y-t.y,l=Math.sqrt(i*i+a*a),c=i/l,u=a/l,d=t.x+(n.x-t.x)/2,p=t.y+(n.y-t.y)/2,h=u*s,f=c*s;e.fillStyle=o,e.beginPath(),e.moveTo(t.x,t.y),e.bezierCurveTo(d+1.5*h,p-1.5*f,d+1.5*h,p-1.5*f,n.x,n.y),e.bezierCurveTo(d+2*h,p-2*f,d+2*h,p-2*f,t.x,t.y),e.closePath(),e.fill()};static shouldDrawChart=e=>{const t=e.points.map((e=>e.y)).sort(),n=Math.floor(2*t.length/10),r=Math.floor(8*t.length/10);return t[n]>-1&&t[r]<2};static drawChart=(e,t,n,s)=>{const i=t.points.map((e=>({x:e.x*n,y:e.y*s}))),{style:a}=t,l=(()=>{switch(a.type){case r.StyleType.LINE:return o.drawLine;case r.StyleType.TRIANGLE:return o.drawTriangle;case r.StyleType.CIRCLES:return o.drawCircles;case r.StyleType.CURVE:return o.drawCurve;default:throw new Error("Invalid style type!")}})();for(let n=0;n<t.orders.length;n+=1){const r=t.orders[n],{link:o}=r,s=t.colors[n];l(e,i[o[0]],i[o[1]],a.thickness,s)}}}t.default=o},440:function(e){e.exports=JSON.parse('{"charts":[{"kind":"koch_triangle_outer","complexity":4,"center":{"x":0.2,"y":0.3},"scale":{"w":1,"h":1},"rotation":{"angle":30,"speed":1},"mutation":{"size":1,"angle":1},"randomizer":{"size":{"amplify":10,"seed":-90129041},"angle":{"amplify":-2.4,"seed":1124901342}},"style":{"type":"line","thickness":3},"color":{"type":"cool","alpha":0.9,"speed":1}},{"kind":"koch_triangle_inner","complexity":5,"center":{"x":0.5,"y":1.2},"scale":{"w":0.4,"h":0.4},"rotation":{"angle":30,"speed":-0.9},"mutation":{"size":-1,"angle":1},"randomizer":{"size":{"amplify":0,"seed":90129041},"angle":{"amplify":0,"seed":124818419}},"style":{"type":"line","thickness":10},"color":{"type":"warm","alpha":0.9,"speed":0.5}},{"kind":"binary_tree","complexity":8,"center":{"x":0.5,"y":1.9},"scale":{"w":0.2,"h":0.2},"rotation":{"angle":10,"speed":-0.2},"mutation":{"size":1.1,"angle":0.88},"randomizer":{"size":{"amplify":0.5,"seed":90129041},"angle":{"amplify":-0.1,"seed":124818419}},"style":{"type":"triangle","thickness":10},"color":{"type":"rainbow","alpha":0.9,"speed":0.5}},{"kind":"tri_cis","complexity":6,"center":{"x":0.8,"y":3.3},"scale":{"w":1,"h":1},"rotation":{"angle":80,"speed":0},"mutation":{"size":1.2,"angle":1.7},"randomizer":{"size":{"amplify":0,"seed":90129041},"angle":{"amplify":0,"seed":124818419}},"style":{"type":"line","thickness":3},"color":{"type":"heat","alpha":0.9,"speed":0.5}},{"kind":"starmine","complexity":10,"center":{"x":0.2,"y":4.2},"scale":{"w":3,"h":3},"rotation":{"angle":20,"speed":0.5},"style":{"type":"triangle","thickness":3},"color":{"type":"warm","alpha":0.9,"speed":0.5}},{"kind":"starmine","complexity":8,"center":{"x":0.4,"y":4.3},"scale":{"w":2.5,"h":2.5},"rotation":{"angle":20,"speed":0.5},"style":{"type":"triangle","thickness":3},"color":{"type":"forest","alpha":0.9,"speed":0.5}},{"kind":"starmine","complexity":8,"center":{"x":0.6,"y":4.4},"scale":{"w":2,"h":2},"rotation":{"angle":20,"speed":0.5},"style":{"type":"triangle","thickness":3},"color":{"type":"cool","alpha":0.9,"speed":0.5}},{"kind":"starmine","complexity":6,"center":{"x":0.8,"y":4.5},"scale":{"w":1.5,"h":1.5},"rotation":{"angle":20,"speed":0.5},"style":{"type":"triangle","thickness":3},"color":{"type":"monochrome","alpha":0.9,"speed":0.5}},{"kind":"sunrise","complexity":100,"center":{"x":0.4,"y":5.1},"scale":{"w":3,"h":3},"rotation":{"angle":-20,"speed":0},"style":{"type":"curve","thickness":4},"color":{"type":"heat","alpha":0.9,"speed":0.5}},{"kind":"fold_ccurve","complexity":9,"center":{"x":0.4,"y":6},"scale":{"w":0.4,"h":0.4},"rotation":{"angle":30,"speed":0},"mutation":{"size":1,"angle":1.5},"randomizer":{"size":{"amplify":3,"seed":90129041},"angle":{"amplify":-0.6,"seed":124818419}},"style":{"type":"line","thickness":5},"color":{"type":"pastel","alpha":0.6,"speed":0.5}},{"kind":"random","complexity":100,"center":{"x":0.7,"y":8},"scale":{"w":30,"h":30},"rotation":{"angle":30,"speed":0},"mutation":{"size":1,"angle":1.5},"randomizer":{"size":{"amplify":0.1,"seed":90129041},"angle":{"amplify":0.1,"seed":124818419}},"style":{"type":"circles","thickness":1.2},"color":{"type":"cool","alpha":0.1,"speed":10}},{"kind":"random","complexity":100,"center":{"x":0.7,"y":9.5},"scale":{"w":30,"h":30},"rotation":{"angle":30,"speed":0},"mutation":{"size":1,"angle":1.5},"randomizer":{"size":{"amplify":0.1,"seed":90129041},"angle":{"amplify":0.1,"seed":124818419}},"style":{"type":"circles","thickness":1.2},"color":{"type":"warm","alpha":0.1,"speed":10}},{"kind":"fold_dragon","complexity":10,"center":{"x":0.5,"y":11.2},"scale":{"w":0.7,"h":1.2},"rotation":{"angle":90,"speed":0.02},"mutation":{"size":0.6,"angle":-3.4},"randomizer":{"size":{"amplify":0.5,"seed":-90129041},"angle":{"amplify":0.1,"seed":124818419}},"style":{"type":"curve","thickness":5},"color":{"type":"rainbow","alpha":0.4,"speed":2}}]}')}},t={};!function n(r){var o=t[r];if(void 0!==o)return o.exports;var s=t[r]={exports:{}};return e[r].call(s.exports,s,s.exports,n),s.exports}(607)}();