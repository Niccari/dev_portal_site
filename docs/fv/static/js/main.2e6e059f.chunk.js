(this["webpackJsonpfractal-visualizer"]=this["webpackJsonpfractal-visualizer"]||[]).push([[0],{10:function(e){e.exports=JSON.parse('{"charts":[{"kind":"koch_triangle_outer","complexity":4,"center":{"x":0.2,"y":0.3},"scale":{"w":2,"h":2},"rotation":{"angle":30,"speed":1},"mutation":{"size":1,"angle":1},"randomizer":{"size":{"amplify":10,"seed":-90129041},"angle":{"amplify":-2.4,"seed":1124901342}},"style":{"type":"line","thickness":3},"color":{"type":"cool","alpha":0.9,"speed":1}},{"kind":"koch_triangle_inner","complexity":5,"center":{"x":0.5,"y":1.2},"scale":{"w":3,"h":3},"rotation":{"angle":30,"speed":1},"mutation":{"size":1,"angle":5},"randomizer":{"size":{"amplify":0,"seed":90129041},"angle":{"amplify":0,"seed":124818419}},"style":{"type":"line","thickness":10},"color":{"type":"warm","alpha":0.9,"speed":0.5}},{"kind":"binary_tree","complexity":8,"center":{"x":0.5,"y":1.9},"scale":{"w":0.2,"h":0.2},"rotation":{"angle":10,"speed":-0.2},"mutation":{"size":1.1,"angle":0.88},"randomizer":{"size":{"amplify":0.5,"seed":90129041},"angle":{"amplify":-0.1,"seed":124818419}},"style":{"type":"triangle","thickness":10},"color":{"type":"rainbow","alpha":0.9,"speed":0.5}},{"kind":"tri_cis","complexity":6,"center":{"x":0.8,"y":3.3},"scale":{"w":3,"h":2},"rotation":{"angle":70,"speed":0},"mutation":{"size":1.05,"angle":0.75},"randomizer":{"size":{"amplify":1,"seed":90129041},"angle":{"amplify":0.1,"seed":124818419}},"style":{"type":"line","thickness":3},"color":{"type":"heat","alpha":0.9,"speed":0.5}},{"kind":"starmine","complexity":10,"center":{"x":0.2,"y":4.2},"scale":{"w":3,"h":3},"rotation":{"angle":20,"speed":0.5},"style":{"type":"triangle","thickness":3},"color":{"type":"warm","alpha":0.9,"speed":0.5}},{"kind":"starmine","complexity":8,"center":{"x":0.4,"y":4.3},"scale":{"w":2.5,"h":2.5},"rotation":{"angle":20,"speed":0.5},"style":{"type":"triangle","thickness":3},"color":{"type":"forest","alpha":0.9,"speed":0.5}},{"kind":"starmine","complexity":8,"center":{"x":0.6,"y":4.4},"scale":{"w":2,"h":2},"rotation":{"angle":20,"speed":0.5},"style":{"type":"triangle","thickness":3},"color":{"type":"cool","alpha":0.9,"speed":0.5}},{"kind":"starmine","complexity":6,"center":{"x":0.8,"y":4.5},"scale":{"w":1.5,"h":1.5},"rotation":{"angle":20,"speed":0.5},"style":{"type":"triangle","thickness":3},"color":{"type":"monochrome","alpha":0.9,"speed":0.5}},{"kind":"sunrise","complexity":100,"center":{"x":0.4,"y":5.1},"scale":{"w":3,"h":3},"rotation":{"angle":-20,"speed":0},"style":{"type":"curve","thickness":4},"color":{"type":"heat","alpha":0.9,"speed":0.5}},{"kind":"fold_ccurve","complexity":9,"center":{"x":0.4,"y":6},"scale":{"w":1.5,"h":1.5},"rotation":{"angle":30,"speed":0},"mutation":{"size":1,"angle":1.5},"randomizer":{"size":{"amplify":0.1,"seed":90129041},"angle":{"amplify":0.1,"seed":124818419}},"style":{"type":"line","thickness":5},"color":{"type":"pastel","alpha":0.9,"speed":0.5}},{"kind":"random","complexity":100,"center":{"x":0.7,"y":8},"scale":{"w":30,"h":30},"rotation":{"angle":30,"speed":0},"mutation":{"size":1,"angle":1.5},"randomizer":{"size":{"amplify":0.1,"seed":90129041},"angle":{"amplify":0.1,"seed":124818419}},"style":{"type":"circles","thickness":1.2},"color":{"type":"cool","alpha":0.1,"speed":10}},{"kind":"random","complexity":100,"center":{"x":0.7,"y":9.5},"scale":{"w":30,"h":30},"rotation":{"angle":30,"speed":0},"mutation":{"size":1,"angle":1.5},"randomizer":{"size":{"amplify":0.1,"seed":90129041},"angle":{"amplify":0.1,"seed":124818419}},"style":{"type":"circles","thickness":1.2},"color":{"type":"warm","alpha":0.1,"speed":10}},{"kind":"fold_dragon","complexity":10,"center":{"x":0.5,"y":11.2},"scale":{"w":1.6,"h":2.2},"rotation":{"angle":30,"speed":0.1},"mutation":{"size":1,"angle":3},"randomizer":{"size":{"amplify":0.5,"seed":-90129041},"angle":{"amplify":0.1,"seed":124818419}},"style":{"type":"curve","thickness":5},"color":{"type":"rainbow","alpha":0.4,"speed":2}}]}')},17:function(e,t,n){},18:function(e,t,n){},20:function(e,t,n){"use strict";n.r(t);var i,a,r=n(6),o=n.n(r),s=n(9),l=n.n(s),c=(n(17),n(18),n(5)),h=function(e){var t=e.onCanvasReady,n=e.onScroll,i=e.onTouchScroll;function a(e){var t=window.devicePixelRatio;e.width=window.innerWidth*t*2,e.height=window.innerHeight*t*2}return Object(r.useEffect)((function(){var e=document.getElementById("canvas");if(e instanceof HTMLCanvasElement){if("ontouchstart"in window){var r=function(e){e.preventDefault()};e.addEventListener("touchstart",r,{passive:!1}),e.addEventListener("touchend",r,{passive:!1}),e.addEventListener("touchcancel",r,{passive:!1}),e.addEventListener("touchmove",(function(e){e.preventDefault(),i(e.touches[0].pageY)}),{passive:!1})}else e.onwheel=function(e){n(e.deltaY)};window.onresize=function(){a(e)};var o=e.getContext("2d");o instanceof CanvasRenderingContext2D&&(a(e),t(o))}}),[]),Object(c.jsx)("canvas",{className:"canvas",id:"canvas",style:{width:"100%",height:"100%"}})},u=n(11);!function(e){e.LINE="line",e.TRIANGLE="triangle",e.CIRCLES="circles",e.CURVE="curve"}(i||(i={})),function(e){e.CIRCLE="start",e.STAR="star",e.CLOVER="clover",e.SUNRISE="sunrise",e.RANDOM="random",e.STARMINE="starmine",e.KOCH_CURVE="koch_curve",e.KOCH_TRIANGLE_INNER="koch_triangle_inner",e.KOCH_TRIANGLE_OUTER="koch_triangle_outer",e.FOLD_DRAGON="fold_dragon",e.FOLD_TRIANGLE="fold_triangle",e.FOLD_CCURVE="fold_ccurve",e.TRI_CIS="tri_cis",e.TRI_TRANS="tri_trans",e.BINARY_TREE="binary_tree"}(a||(a={}));var d,p=null,v=function(e,t,n,i,a){e.lineWidth=i,e.strokeStyle=a,e.beginPath(),e.moveTo(t.x,t.y),e.lineTo(n.x,n.y),e.closePath(),e.stroke()},y=function(e,t,n,i,a){var r=n.x-t.x,o=n.y-t.y,s=Math.sqrt(r*r+o*o),l=r/s,c=o/s;e.fillStyle=a,e.beginPath(),e.moveTo(n.x,n.y),e.lineTo(t.x+c*i,t.y-l*i),e.lineTo(t.x-c*i,t.y+l*i),e.lineTo(n.x,n.y),e.closePath(),e.fill()},f=function(e,t,n,i,a){var r=Math.log(i||11),o=n.x-t.x,s=n.y-t.y,l=r*Math.sqrt(o*o+s*s),c=2*Math.PI;e.fillStyle=a,e.beginPath(),e.arc(t.x+.3*o,t.y+.3*s,.3*l,0,c),e.fill(),e.beginPath(),e.arc(t.x+.6*o,t.y+.6*s,.15*l,0,c),e.fill()},g=function(e,t,n,i,a){var r=1.5*(i||1),o=n.x-t.x,s=n.y-t.y,l=Math.sqrt(o*o+s*s),c=o/l,h=s/l,u=t.x+(n.x-t.x)/2,d=t.y+(n.y-t.y)/2,p=h*r,v=c*r;e.fillStyle=a,e.beginPath(),e.moveTo(t.x,t.y),e.bezierCurveTo(u+1.5*p,d-1.5*v,u+1.5*p,d-1.5*v,n.x,n.y),e.bezierCurveTo(u+2*p,d-2*v,u+2*p,d-2*v,t.x,t.y),e.closePath(),e.fill()},m=function(e){null!==p&&function(){var t=p.canvas.width,n=p.canvas.height;p.fillStyle="rgba(0, 0, 0, 0.05)",p.fillRect(0,0,t,n);var a,r=Object(u.a)(e);try{var o=function(){var e=a.value;if(!function(e){var t=e.points.map((function(e){return e.y})).sort(),n=Math.floor(2*t.length/10),i=Math.floor(8*t.length/10);return t[n]>-1&&t[i]<2}(e))return"continue";for(var r=e.points.map((function(e){return{x:e.x*t,y:e.y*n}})),o=e.style,s=function(){switch(o.type){case i.LINE:return v;case i.TRIANGLE:return y;case i.CIRCLES:return f;case i.CURVE:return g;default:throw new Error("Invalid style type!")}}(),l=0;l<e.orders.length;l++){var c=e.orders[l].link,h=e.colors[l],u=r[c[0]],d=r[c[1]];s(p,u,d,o.thickness,h)}};for(r.s();!(a=r.n()).done;)o()}catch(s){r.e(s)}finally{r.f()}}()},b=n(4),x=n(10),_=n(12),O=n(7),R=n(3),P=n(2),w=n(0),I=n(1),k=function e(t){var n=this;Object(w.a)(this,e),this.x=123456789,this.y=362436069,this.z=521288629,this.seed=void 0,this.generate=function(){var e=n.x^n.x<<11;return n.x=n.y,n.y=n.z,n.z=n.seed,n.seed=n.seed^n.seed>>>19^e^e>>>8,n.seed/Math.pow(2,32)},this.seed=t};!function(e){e.RAINBOW="rainbow",e.WARM="warm",e.FOREST="forest",e.COOL="cool",e.HEAT="heat",e.MONOCHROME="monochrome",e.PASTEL="pastel"}(d||(d={}));var M,j=function(){function e(t){var n=this;Object(w.a)(this,e),this._config=void 0,this.colorStartIndex=void 0,this.colorIterateIndex=void 0,this.colorTable=[],this.alphaHex=void 0,this.gradientRainbows=[{position:0,red:255,green:0,blue:0},{position:43,red:255,green:255,blue:0},{position:85,red:0,green:255,blue:0},{position:128,red:0,green:255,blue:255},{position:171,red:0,green:0,blue:255},{position:223,red:255,green:0,blue:255},{position:255,red:255,green:0,blue:0}],this.gradientWarm=[{position:0,red:255,green:0,blue:0},{position:128,red:255,green:255,blue:0},{position:255,red:255,green:0,blue:0}],this.gradientForest=[{position:0,red:255,green:255,blue:0},{position:128,red:0,green:255,blue:0},{position:255,red:255,green:255,blue:0}],this.gradientCool=[{position:0,red:0,green:0,blue:255},{position:128,red:0,green:255,blue:255},{position:255,red:0,green:0,blue:255}],this.gradientHeat=[{position:0,red:255,green:255,blue:0},{position:43,red:255,green:0,blue:0},{position:85,red:0,green:0,blue:255},{position:128,red:0,green:0,blue:0},{position:171,red:0,green:0,blue:255},{position:223,red:255,green:0,blue:0},{position:255,red:255,green:255,blue:0}],this.gradientMonochrome=[{position:0,red:0,green:0,blue:0},{position:128,red:255,green:255,blue:255},{position:255,red:0,green:0,blue:0}],this.gradientPastel=[{position:0,red:255,green:154,blue:154},{position:85,red:255,green:255,blue:154},{position:170,red:154,green:255,blue:255},{position:255,red:255,green:154,blue:154}],this._colorToHex=function(e){var t=Math.round(e).toString(16);return 1==t.length?"0"+t:t},this._config=t,this.colorStartIndex=0,this.colorIterateIndex=0,this.alphaHex=this._colorToHex(Math.floor(255*this._config.alpha));for(var i=function(){switch(t.type.toString()){case d.RAINBOW:return n.gradientRainbows;case d.WARM:return n.gradientWarm;case d.FOREST:return n.gradientForest;case d.COOL:return n.gradientCool;case d.HEAT:return n.gradientHeat;case d.MONOCHROME:return n.gradientMonochrome;case d.PASTEL:return n.gradientPastel;default:throw Error("Not Implemented")}}(),a=1,r=i[0],o=i[1],s=0;s<256;s++){var l=(s-r.position)/(o.position-r.position),c=r.red+l*(o.red-r.red),h=r.green+l*(o.green-r.green),u=r.blue+l*(o.blue-r.blue);this.colorTable.push("#"+this._colorToHex(c)+this._colorToHex(h)+this._colorToHex(u)+this.alphaHex),o.position==s&&(r=o,o=i[++a])}}return Object(I.a)(e,[{key:"next",value:function(){var e=this.colorTable[this.colorIterateIndex];return this.colorIterateIndex=(this.colorIterateIndex+this._config.speed)%256,e}},{key:"endIteration",value:function(){this.colorStartIndex=(this.colorStartIndex+this._config.speed)%256,this.colorIterateIndex=this.colorStartIndex}}]),e}(),L=j,E=function(){function e(t){Object(w.a)(this,e),this._chart=void 0,this._colorGenerator=void 0,this._chart=t,this._colorGenerator=new L(this._chart.color)}return Object(I.a)(e,[{key:"reset",value:function(){this.setBasePoints(),this.setOrders()}},{key:"getChart",value:function(){return this._chart}},{key:"pointLength",value:function(){return this._chart.complexity}},{key:"setBasePoints",value:function(){var e=this._chart;e.basePoints=[];for(var t=this.pointLength(),n=0;n<t;n++){var i=2*Math.PI*n/t,a=.1*Math.sin(i),r=.1*Math.cos(i);e.basePoints[n]={x:a,y:r}}}},{key:"setOrders",value:function(){for(var e=this._chart,t=this.pointLength(),n=0;n<t;n++)e.orders.push({link:[n,(n+1)%t]})}},{key:"simulate",value:function(){for(var e=this._chart,t=this.pointLength(),n=0;n<t;n++){var i=e.basePoints[n].x*e.scale.w,a=e.basePoints[n].y*e.scale.h,r=Math.sin(e.rotation.angle),o=Math.cos(e.rotation.angle);e.points[n]={x:e.center.x+i*o-a*r,y:e.center.y+i*r+a*o}}e.rotation.angle+=e.rotation.speed,e.rotation.angle>Math.PI&&(e.rotation.angle-=2*Math.PI),e.rotation.angle<-Math.PI&&(e.rotation.angle+=2*Math.PI);for(var s=0;s<e.orders.length;s++)e.colors[s]=this._colorGenerator.next();this._colorGenerator.endIteration()}}]),e}(),T=function(e){Object(R.a)(n,e);var t=Object(P.a)(n);function n(){return Object(w.a)(this,n),t.apply(this,arguments)}return n}(E),z=function(e){Object(R.a)(n,e);var t=Object(P.a)(n);function n(){return Object(w.a)(this,n),t.apply(this,arguments)}return Object(I.a)(n,[{key:"setOrders",value:function(){for(var e=this._chart,t=this.pointLength(),n=0;n<t;n++){var i=2*n%t,a=(2*n+2)%t;e.orders.push({link:[i,a]})}}}]),n}(E),C=function(e){Object(R.a)(n,e);var t=Object(P.a)(n);function n(){return Object(w.a)(this,n),t.apply(this,arguments)}return Object(I.a)(n,[{key:"setOrders",value:function(){for(var e=this._chart,t=this.pointLength(),n=0;n<t;n++){var i=n,a=(2*n+2)%t;e.orders.push({link:[i,a]})}}}]),n}(E),N=function(e){Object(R.a)(n,e);var t=Object(P.a)(n);function n(){return Object(w.a)(this,n),t.apply(this,arguments)}return Object(I.a)(n,[{key:"pointLength",value:function(){return 40*this._chart.complexity}},{key:"setBasePoints",value:function(){for(var e=0;e<this.pointLength();e++){var t=Math.sin(2*Math.PI*this._chart.complexity*e/this.pointLength());this._chart.basePoints[e]={x:.1*t*Math.cos(2*Math.PI*e/this.pointLength()-Math.PI),y:.1*t*Math.sin(2*Math.PI*e/this.pointLength()-Math.PI)}}}}]),n}(E),S=function(e){Object(R.a)(n,e);var t=Object(P.a)(n);function n(){return Object(w.a)(this,n),t.apply(this,arguments)}return Object(I.a)(n,[{key:"pointLength",value:function(){return 2*this._chart.complexity}},{key:"setBasePoints",value:function(){for(var e=0;e<this.pointLength();e++){var t=2*Math.PI*e/this.pointLength()-Math.PI;this._chart.basePoints[e]=e%2===0?{x:.1*Math.cos(t),y:.1*Math.sin(t)}:{x:.1*Math.cos(t)/4,y:.1*Math.sin(t)/4}}}}]),n}(E),A=function(e){Object(R.a)(n,e);var t=Object(P.a)(n);function n(){return Object(w.a)(this,n),t.apply(this,arguments)}return Object(I.a)(n,[{key:"simulate",value:function(){for(var e=this._chart,t=this.pointLength(),i=0;i<t;i++){var a=.1*(Math.random()-.5),r=.1*(Math.random()-.5);e.basePoints[i]={x:a,y:r}}Object(_.a)(Object(O.a)(n.prototype),"simulate",this).call(this)}}]),n}(E),B=function(e){Object(R.a)(n,e);var t=Object(P.a)(n);function n(e){var i,a,r,o,s;return Object(w.a)(this,n),(s=t.call(this,e)).length0=1,s.angle0=60*Math.PI/180,s.lengthRandom=void 0,s.angleRandom=void 0,s.lengthRandom=new k((null===(i=e.randomizer)||void 0===i||null===(a=i.size)||void 0===a?void 0:a.seed)||-1),s.angleRandom=new k((null===(r=e.randomizer)||void 0===r||null===(o=r.angle)||void 0===o?void 0:o.seed)||-1),s._chart.complexity=e.complexity<3?3:e.complexity>10?10:e.complexity,s}return Object(I.a)(n,[{key:"pointLength",value:function(){var e=this._chart.complexity;return Math.pow(2,2*(e-1))+1}},{key:"setBasePoints",value:function(){this._chart.basePoints=[],this._chart.basePoints.push({x:-.1,y:0}),this._chart.basePoints.push({x:.1,y:0}),this.divideBasePoints(1,this.length0,this.angle0)}},{key:"divideBasePoints",value:function(e,t,n){var i,a,r,o,s,l,c=((null===(i=this._chart.randomizer)||void 0===i||null===(a=i.size)||void 0===a?void 0:a.amplify)||0)*this.lengthRandom.generate(),h=((null===(r=this._chart.randomizer)||void 0===r||null===(o=r.angle)||void 0===o?void 0:o.amplify)||0)*this.angleRandom.generate(),u=t*(c+((null===(s=this._chart.mutation)||void 0===s?void 0:s.size)||1)),d=n*(h+((null===(l=this._chart.mutation)||void 0===l?void 0:l.angle)||1));if(!(e>=this._chart.complexity)){for(var p=Math.sin(d),v=Math.cos(d),y=Math.pow(2,2*e),f=0;f<y;f++){var g=f%4;if(g<=1){var m=this._chart.basePoints[f],b=this._chart.basePoints[f+1],x=b.x-m.x,_=b.y-m.y;this._chart.basePoints.splice(f+1,0,{x:m.x+x*u/(3-g),y:m.y+_*u/(3-g)})}else if(2==g){var O=this._chart.basePoints[f-1],R=this._chart.basePoints[f],P=R.x-O.x,w=R.y-O.y;this._chart.basePoints.splice(f,0,{x:O.x+u*(v*P-p*w),y:O.y+u*(p*P+v*w)})}}this.divideBasePoints(e+1,u,d)}}},{key:"setOrders",value:function(){for(var e=0;e<this.pointLength()-1;e++)this._chart.orders[e]={link:[e,e+1]}}}]),n}(E),G=function(e){Object(R.a)(n,e);var t=Object(P.a)(n);function n(e){var i;return Object(w.a)(this,n),(i=t.call(this,e)).isInner=!1,i.isInner=e.kind===a.KOCH_TRIANGLE_INNER,i}return Object(I.a)(n,[{key:"pointLength",value:function(){var e=this._chart.complexity;return 3*(Math.pow(2,2*(e-1))+1)}},{key:"setBasePoints",value:function(){this._chart.basePoints=[],this._chart.basePoints.push({x:-.1,y:0}),this._chart.basePoints.push({x:.1,y:0}),this.divideBasePoints(1,this.length0,this.angle0);var e=-Math.sin(120*Math.PI/180),t=Math.cos(120*Math.PI/180),n=this.pointLength();if(this.isInner)for(var i=0;i<n/3;i++)this._chart.basePoints[i].y=-this._chart.basePoints[i].y;for(var a=0;a<n/3;a++)this._chart.basePoints[a].y+=.1/Math.sqrt(3);for(var r=0;r<n/3;r++){var o=this._chart.basePoints[r].x,s=this._chart.basePoints[r].y;this._chart.basePoints.push({x:o*t-s*e,y:o*e+s*t})}for(var l=0;l<n/3;l++){var c=this._chart.basePoints[l+n/3].x,h=this._chart.basePoints[l+n/3].y;this._chart.basePoints.push({x:c*t-h*e,y:c*e+h*t})}}},{key:"setOrders",value:function(){for(var e=this.pointLength(),t=0;t<e-1;t++)this._chart.orders[t]={link:[t,t+1]}}}]),n}(B);!function(e){e.DRAGON="dragon",e.TRIANGLE="triangle",e.CCURVE="ccurve"}(M||(M={}));var H,D=function(e){Object(R.a)(n,e);var t=Object(P.a)(n);function n(e){var i,r,o,s,l;return Object(w.a)(this,n),(l=t.call(this,e)).arm0=Math.sqrt(2)/2,l.angle0=45*Math.PI/180,l.curveType=void 0,l.lengthRandom=void 0,l.angleRandom=void 0,l.lengthRandom=new k((null===(i=e.randomizer)||void 0===i||null===(r=i.size)||void 0===r?void 0:r.seed)||-1),l.angleRandom=new k((null===(o=e.randomizer)||void 0===o||null===(s=o.angle)||void 0===s?void 0:s.seed)||-1),l.curveType=function(){switch(l._chart.kind){case a.FOLD_CCURVE:return M.CCURVE;case a.FOLD_TRIANGLE:return M.TRIANGLE;case a.FOLD_DRAGON:return M.DRAGON;default:throw new Error("Unsupported curve type!")}}(),l._chart.complexity=e.complexity<3?3:e.complexity>12?12:e.complexity,l}return Object(I.a)(n,[{key:"pointLength",value:function(){var e=this._chart.complexity;return Math.pow(2,e-1)+1}},{key:"setBasePoints",value:function(){var e=this._chart;e.basePoints.push({x:-.1,y:0}),e.basePoints.push({x:.1,y:0}),this.divideBasePoints(1,this.arm0,this.angle0)}},{key:"divideBasePoints",value:function(e,t,n){var i,a,r,o,s,l,c=this,h=((null===(i=this._chart.randomizer)||void 0===i||null===(a=i.size)||void 0===a?void 0:a.amplify)||0)*this.lengthRandom.generate(),u=((null===(r=this._chart.randomizer)||void 0===r||null===(o=r.angle)||void 0===o?void 0:o.amplify)||0)*this.angleRandom.generate(),d=t*(h+((null===(s=this._chart.mutation)||void 0===s?void 0:s.size)||1)),p=n*(u+((null===(l=this._chart.mutation)||void 0===l?void 0:l.angle)||1));if(!(e>=this._chart.complexity)){for(var v=Math.sin(p),y=Math.cos(p),f=function(t){var n=c._chart.basePoints[t],i=c._chart.basePoints[t-1],a=i.x-n.x,r=i.y-n.y,o=c.isLeftFold(t,e)?{x:n.x+d*(y*a-v*r),y:n.y+d*(v*a+y*r)}:{x:n.x+d*(y*a+v*r),y:n.y+d*(-v*a+y*r)};c._chart.basePoints.splice(t,0,o)},g=Math.pow(2,e-1);g>0;g--)f(g);this.divideBasePoints(e+1,d,p)}}},{key:"isLeftFold",value:function(e,t){switch(this.curveType){case M.DRAGON:return e%2==0;case M.TRIANGLE:return(e+t)%2==0;case M.CCURVE:return!0;default:throw new Error("Unsupported CurveType!")}}},{key:"setOrders",value:function(){for(var e=0;e<this.pointLength()-1;e++)this._chart.orders[e]={link:[e,e+1]}}}]),n}(E);!function(e){e.CIS="cis",e.TRANS="trans"}(H||(H={}));var U=function(e){Object(R.a)(n,e);var t=Object(P.a)(n);function n(e){var i,r,o,s,l;return Object(w.a)(this,n),(l=t.call(this,e)).curveType=void 0,l.lengthRandom=void 0,l.angleRandom=void 0,l.lengthRandom=new k((null===(i=e.randomizer)||void 0===i||null===(r=i.size)||void 0===r?void 0:r.seed)||-1),l.angleRandom=new k((null===(o=e.randomizer)||void 0===o||null===(s=o.angle)||void 0===s?void 0:s.seed)||-1),l.curveType=function(){switch(l._chart.kind){case a.TRI_CIS:return H.CIS;case a.TRI_TRANS:return H.TRANS;default:throw new Error("Unsupported curve type!")}}(),l._chart.complexity=e.complexity>7?7:e.complexity,l}return Object(I.a)(n,[{key:"pointLength",value:function(){var e=this._chart.complexity;return Math.pow(4,e)+1}},{key:"setBasePoints",value:function(){var e=this._chart;e.basePoints=[],e.basePoints.push({x:-.1,y:0}),e.basePoints.push({x:.1,y:0}),this.divideBasePoints(1,1,90*Math.PI/180)}},{key:"divideBasePoints",value:function(e,t,n){var i,a,r,o,s,l,c=((null===(i=this._chart.randomizer)||void 0===i||null===(a=i.size)||void 0===a?void 0:a.amplify)||0)*this.lengthRandom.generate(),h=((null===(r=this._chart.randomizer)||void 0===r||null===(o=r.angle)||void 0===o?void 0:o.amplify)||0)*this.angleRandom.generate(),u=t*(c+((null===(s=this._chart.mutation)||void 0===s?void 0:s.size)||1)),d=n*(h+((null===(l=this._chart.mutation)||void 0===l?void 0:l.angle)||1));if(!(e>this._chart.complexity)){for(var p=Math.sin(d),v=Math.cos(d),y=Math.pow(4,e-1);y>0;y--){var f=this._chart.basePoints[y],g=this._chart.basePoints[y-1],m=(g.x+f.x)/2,b=(g.y+f.y)/2,x=m-f.x,_=b-f.y,O=g.x-m,R=g.y-b,P={x:m,y:b},w=this.curveType==H.CIS?-u:u,I=this.curveType==H.TRANS&&y%2==0?p:-p;this._chart.basePoints.splice(y,0,{x:f.x+w*(v*x+I*_),y:f.y+w*(-I*x+v*_)}),this._chart.basePoints.splice(y,0,P),this._chart.basePoints.splice(y,0,{x:g.x-w*(v*O-I*R),y:g.y-w*(I*O+v*R)})}this.divideBasePoints(e+1,u,d)}}},{key:"setOrders",value:function(){for(var e=0;e<this.pointLength()-1;e++)this._chart.orders[e]={link:[e,e+1]}}}]),n}(E),F=function(e){Object(R.a)(n,e);var t=Object(P.a)(n);function n(e){var i,a,r,o,s;return Object(w.a)(this,n),(s=t.call(this,e)).lengthRandom=void 0,s.angleRandom=void 0,s.lengthRandom=new k((null===(i=e.randomizer)||void 0===i||null===(a=i.size)||void 0===a?void 0:a.seed)||-1),s.angleRandom=new k((null===(r=e.randomizer)||void 0===r||null===(o=r.angle)||void 0===o?void 0:o.seed)||-1),s._chart.complexity=e.complexity<2?2:e.complexity>10?10:e.complexity,s}return Object(I.a)(n,[{key:"pointLength",value:function(){var e=this._chart.complexity;return Math.pow(2,e+1)}},{key:"setBasePoints",value:function(){var e=this._chart;e.basePoints[0]={x:0,y:-.1},e.basePoints[1]={x:0,y:0},this.divideBasePoints(1,.85,45*Math.PI/180)}},{key:"divideBasePoints",value:function(e,t,n){var i,a,r,o,s,l,c=((null===(i=this._chart.randomizer)||void 0===i||null===(a=i.size)||void 0===a?void 0:a.amplify)||0)*this.lengthRandom.generate(),h=((null===(r=this._chart.randomizer)||void 0===r||null===(o=r.angle)||void 0===o?void 0:o.amplify)||0)*this.angleRandom.generate(),u=t*(c+((null===(s=this._chart.mutation)||void 0===s?void 0:s.size)||1)),d=n*(h+((null===(l=this._chart.mutation)||void 0===l?void 0:l.angle)||1));if(!(e>=Math.floor(this.pointLength()/2))){var p=this._chart.basePoints[Math.floor(e/2)],v=this._chart.basePoints[e],y=v.x-p.x,f=v.y-p.y,g=Math.sin(d),m=Math.cos(d);this._chart.basePoints[2*e]={x:v.x+u*(m*y-g*f),y:v.y+u*(g*y+m*f)},this._chart.basePoints[2*e+1]={x:v.x+u*(m*y+g*f),y:v.y+u*(-g*y+m*f)},this.divideBasePoints(2*e,u,d),this.divideBasePoints(2*e+1,u,d)}}},{key:"setOrders",value:function(){this._chart.orders[0]={link:[0,1]},this.setOrdersRecursive(1,1)}},{key:"setOrdersRecursive",value:function(e,t){if(!(e>=this.pointLength()/2)){var n=2*e,i=2*e+1;this._chart.orders[n-1]={link:[t,n]},this._chart.orders[i-1]={link:[t,i]},this.setOrdersRecursive(n,n),this.setOrdersRecursive(i,i)}}}]),n}(E),V=function(){var e=x.charts.map((function(e){return function(e){switch(e.kind){case a.STAR:return new z(e);case a.STARMINE:return new S(e);case a.SUNRISE:return new C(e);case a.CIRCLE:return new T(e);case a.CLOVER:return new N(e);case a.RANDOM:return new A(e);case a.FOLD_CCURVE:case a.FOLD_TRIANGLE:case a.FOLD_DRAGON:return new D(e);case a.KOCH_CURVE:return new B(e);case a.KOCH_TRIANGLE_INNER:case a.KOCH_TRIANGLE_OUTER:return new G(e);case a.TRI_CIS:case a.TRI_TRANS:return new U(e);case a.BINARY_TREE:return new F(e);default:throw new Error("Unsupported chart type!")}}(Object(b.a)(Object(b.a)({},e),{},{kind:e.kind,style:Object(b.a)(Object(b.a)({},e.style),{},{type:e.style.type}),color:Object(b.a)(Object(b.a)({},e.color),{},{type:e.color.type}),rotation:{angle:e.rotation.angle*Math.PI/180,speed:e.rotation.speed*Math.PI/180},complexity:e.complexity,basePoints:[],points:[],orders:[],colors:[]}))}));return e.map((function(e){return e.reset()})),e}(),W=function(){var e=new URL(document.location.href).searchParams;return parseInt(e.get("depth")||"0")}(),K=0,q=null,Y=function(){if(0===--K){q=null;var e=window.location.pathname+"?depth="+W;window.history.replaceState(null,"Fractal-Visualizer depth: + scrollY",e)}return V.forEach((function(e){return e.simulate()})),V.map((function(e){var t=e.getChart();return t.points=t.points.map((function(e){return Object(b.a)(Object(b.a)({},e),{},{y:e.y-W/300})})),t}))},J=function(e){!function(e){(W+=e)<0&&(W=0),K=6}(e)},Q=function(e){!function(e){null!==q&&(W-=2*(e-q)),q=e,W<0&&(W=0),K=6}(e)};var X=function(){return Object(c.jsx)("div",{className:"App",children:Object(c.jsx)(h,{onCanvasReady:function(e){!function(e){var t=(p=e).canvas.width,n=p.canvas.height;p.fillStyle="rgb(0, 0, 0)",p.fillRect(0,0,t,n)}(e),function(){setInterval((function(){var e=Y();m(e)}),1e3/(arguments.length>0&&void 0!==arguments[0]?arguments[0]:50))}()},onScroll:function(e){J(e)},onTouchScroll:function(e){Q(e)}})})};l.a.render(Object(c.jsx)(o.a.StrictMode,{children:Object(c.jsx)(X,{})}),document.getElementById("root"))}},[[20,1,2]]]);